<ng-container *ngIf="vm$ | async as vm">
  <app-weather-form
    [(cityName)]="cityName"
    (onSubmit)="handleSubmit()"
  ></app-weather-form>

  <button (click)="handleCoordsBtnClick()">Buscar na minha localização</button>

  <ng-container *ngIf="!vm.loading; else loader">
    <div *ngIf="vm.error">
      {{ vm.error }}
    </div>

    <app-weather-card
      *ngIf="vm.weatherData"
      [weatherReport]="vm.weatherData"
    ></app-weather-card>
  </ng-container>
</ng-container>

<ng-template #loader>
  <div>Carregando...</div>
</ng-template>
